<!-- node.html -->
<div 
#nodeContainer
class="node-container" 
[style.border-top]="node.transparent ? '1px solid rgb(0, 0, 0, 0.1)' : 'null'"
[style.background-color]="getColor()"
[style.color]="node.color"
(mousedown)="onMouseDown($event)"
[style.position]="'absolute'"
[style.left.px]="node.x"
[style.top.px]="node.y"
[style.width.px]="node.width"
[style.height.px]="node.height">  

  <input 
  #titleArea
  type="text" 
  class="title-area"
  placeholder="Title"  
  pattern="[\x00-\x7F]*"
  [readonly]="node.locked"
  [hidden]="node.titleMinimized" 
  [value]="node.title"
  maxlength="100"
  [style.border-top]="node.transparent ? '1px solid rgb(0, 0, 0, 0.1)' : 'null'"
  [class.locked]="node.locked"
  (mousedown)="null"
  (input)="updateTitle($event)">

  <app-node-text 
  [style.border-top]="node.transparent ? '1px solid rgb(0, 0, 0, 0.1)' : 'null'"

  [hidden]="node.contentMinimized" 
  #textArea 
  [node]="node"
  [scale]="scale"/>

  <app-node-menu 
  #menu
  [hidden]="!menuVisible"
  [nodeId]="node.id"
  [style.left.px]="menuX"
  [style.top.px]="menuY"
  (evNewChildNodeClicked)="newChildNodeClicked()"
  (evDeleteNodeClicked)="deleteCurrentNodeClicked()"
  (evCloseMenuClicked)="closeMenuClicked()">
  </app-node-menu>
  <div #resizinghandle class="resizinghandle" ></div>
  <div #movetreehandle class="movetreehandle" ></div>
</div>
